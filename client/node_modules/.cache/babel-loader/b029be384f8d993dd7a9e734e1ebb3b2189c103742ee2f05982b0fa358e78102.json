{"ast":null,"code":"// Simple Google Analytics 4 integration\nclass Analytics {\n  constructor() {\n    this.isEnabled = process.env.NODE_ENV === 'production';\n    this.gaId = process.env.REACT_APP_GA_MEASUREMENT_ID;\n    if (this.isEnabled && this.gaId) {\n      this.initGA();\n    }\n  }\n  initGA() {\n    // Load Google Analytics script\n    const script = document.createElement('script');\n    script.async = true;\n    script.src = `https://www.googletagmanager.com/gtag/js?id=${this.gaId}`;\n    document.head.appendChild(script);\n\n    // Initialize gtag\n    window.dataLayer = window.dataLayer || [];\n    function gtag() {\n      window.dataLayer.push(arguments);\n    }\n    window.gtag = gtag;\n    gtag('js', new Date());\n    gtag('config', this.gaId, {\n      // Privacy-friendly settings\n      anonymize_ip: true,\n      allow_google_signals: false,\n      allow_ad_personalization_signals: false\n    });\n  }\n\n  // Track game events\n  trackGameStart(playerCount, roomId) {\n    var _window$gtag, _window;\n    if (!this.isEnabled) return;\n    (_window$gtag = (_window = window).gtag) === null || _window$gtag === void 0 ? void 0 : _window$gtag.call(_window, 'event', 'game_start', {\n      event_category: 'game',\n      player_count: playerCount,\n      room_id: roomId.substring(0, 2) // Only first 2 chars for privacy\n    });\n  }\n  trackGameEnd(playerCount, rounds, duration) {\n    var _window$gtag2, _window2;\n    if (!this.isEnabled) return;\n    (_window$gtag2 = (_window2 = window).gtag) === null || _window$gtag2 === void 0 ? void 0 : _window$gtag2.call(_window2, 'event', 'game_complete', {\n      event_category: 'game',\n      player_count: playerCount,\n      rounds_played: rounds,\n      game_duration: Math.round(duration / 1000) // seconds\n    });\n  }\n  trackRoomJoin(playerCount) {\n    var _window$gtag3, _window3;\n    if (!this.isEnabled) return;\n    (_window$gtag3 = (_window3 = window).gtag) === null || _window$gtag3 === void 0 ? void 0 : _window$gtag3.call(_window3, 'event', 'room_join', {\n      event_category: 'engagement',\n      player_count: playerCount\n    });\n  }\n  trackPromptSubmit() {\n    var _window$gtag4, _window4;\n    if (!this.isEnabled) return;\n    (_window$gtag4 = (_window4 = window).gtag) === null || _window$gtag4 === void 0 ? void 0 : _window$gtag4.call(_window4, 'event', 'prompt_submit', {\n      event_category: 'engagement'\n    });\n  }\n  trackGuessSubmit(similarity) {\n    var _window$gtag5, _window5;\n    if (!this.isEnabled) return;\n    (_window$gtag5 = (_window5 = window).gtag) === null || _window$gtag5 === void 0 ? void 0 : _window$gtag5.call(_window5, 'event', 'guess_submit', {\n      event_category: 'engagement',\n      guess_quality: similarity > 70 ? 'good' : similarity > 40 ? 'fair' : 'poor'\n    });\n  }\n\n  // Track page views\n  trackPageView(pageName) {\n    var _window$gtag6, _window6;\n    if (!this.isEnabled) return;\n    (_window$gtag6 = (_window6 = window).gtag) === null || _window$gtag6 === void 0 ? void 0 : _window$gtag6.call(_window6, 'event', 'page_view', {\n      page_title: pageName\n    });\n  }\n}\nexport default new Analytics();","map":{"version":3,"names":["Analytics","constructor","isEnabled","process","env","NODE_ENV","gaId","REACT_APP_GA_MEASUREMENT_ID","initGA","script","document","createElement","async","src","head","appendChild","window","dataLayer","gtag","push","arguments","Date","anonymize_ip","allow_google_signals","allow_ad_personalization_signals","trackGameStart","playerCount","roomId","_window$gtag","_window","call","event_category","player_count","room_id","substring","trackGameEnd","rounds","duration","_window$gtag2","_window2","rounds_played","game_duration","Math","round","trackRoomJoin","_window$gtag3","_window3","trackPromptSubmit","_window$gtag4","_window4","trackGuessSubmit","similarity","_window$gtag5","_window5","guess_quality","trackPageView","pageName","_window$gtag6","_window6","page_title"],"sources":["C:/Users/siddh/Desktop/Sid/Work/Co-curriculars/KiroHackathon/client/src/utils/analytics.js"],"sourcesContent":["// Simple Google Analytics 4 integration\r\nclass Analytics {\r\n  constructor() {\r\n    this.isEnabled = process.env.NODE_ENV === 'production';\r\n    this.gaId = process.env.REACT_APP_GA_MEASUREMENT_ID;\r\n    \r\n    if (this.isEnabled && this.gaId) {\r\n      this.initGA();\r\n    }\r\n  }\r\n\r\n  initGA() {\r\n    // Load Google Analytics script\r\n    const script = document.createElement('script');\r\n    script.async = true;\r\n    script.src = `https://www.googletagmanager.com/gtag/js?id=${this.gaId}`;\r\n    document.head.appendChild(script);\r\n\r\n    // Initialize gtag\r\n    window.dataLayer = window.dataLayer || [];\r\n    function gtag(){window.dataLayer.push(arguments);}\r\n    window.gtag = gtag;\r\n    gtag('js', new Date());\r\n    gtag('config', this.gaId, {\r\n      // Privacy-friendly settings\r\n      anonymize_ip: true,\r\n      allow_google_signals: false,\r\n      allow_ad_personalization_signals: false\r\n    });\r\n  }\r\n\r\n  // Track game events\r\n  trackGameStart(playerCount, roomId) {\r\n    if (!this.isEnabled) return;\r\n    \r\n    window.gtag?.('event', 'game_start', {\r\n      event_category: 'game',\r\n      player_count: playerCount,\r\n      room_id: roomId.substring(0, 2) // Only first 2 chars for privacy\r\n    });\r\n  }\r\n\r\n  trackGameEnd(playerCount, rounds, duration) {\r\n    if (!this.isEnabled) return;\r\n    \r\n    window.gtag?.('event', 'game_complete', {\r\n      event_category: 'game',\r\n      player_count: playerCount,\r\n      rounds_played: rounds,\r\n      game_duration: Math.round(duration / 1000) // seconds\r\n    });\r\n  }\r\n\r\n  trackRoomJoin(playerCount) {\r\n    if (!this.isEnabled) return;\r\n    \r\n    window.gtag?.('event', 'room_join', {\r\n      event_category: 'engagement',\r\n      player_count: playerCount\r\n    });\r\n  }\r\n\r\n  trackPromptSubmit() {\r\n    if (!this.isEnabled) return;\r\n    \r\n    window.gtag?.('event', 'prompt_submit', {\r\n      event_category: 'engagement'\r\n    });\r\n  }\r\n\r\n  trackGuessSubmit(similarity) {\r\n    if (!this.isEnabled) return;\r\n    \r\n    window.gtag?.('event', 'guess_submit', {\r\n      event_category: 'engagement',\r\n      guess_quality: similarity > 70 ? 'good' : similarity > 40 ? 'fair' : 'poor'\r\n    });\r\n  }\r\n\r\n  // Track page views\r\n  trackPageView(pageName) {\r\n    if (!this.isEnabled) return;\r\n    \r\n    window.gtag?.('event', 'page_view', {\r\n      page_title: pageName\r\n    });\r\n  }\r\n}\r\n\r\nexport default new Analytics();"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}